!function(){var t={initialize:function(){this.radiusToCss=0,this.borderToCss=0,this.setUpListeners(),this.setUpSlider()},setUpListeners:function(){$("#input-text").on("keyup",$.proxy(this.textChange,this)),$("form").on("submit",t.submitForm),$("form").on("keydown","input",t.removeError),$("[data-dismiss='modal']").on("click",$.proxy(this.closeModal,this))},$create:$(".create"),maxRadius:$(".create").outerHeight()/2,maxBorder:$(".create").outerHeight()/4,setUpSlider:function(){var e=this.$create.css("border-radius"),e=parseInt(e),i=this.$create.css("border-width"),i=parseInt(i);$("#brad-slider").slider({range:"min",min:0,max:this.maxRadius,step:1,value:5,slide:function(e,i){t.radiusToCss=i.value,t.getBorderRadius(),t.updateResult()}}),$("#brdr-slider").slider({range:"min",min:0,max:10,step:1,value:3,slide:function(e,i){t.borderToCss=i.value,t.getBorderWidth(),t.updateResult()}})},getBorderRadius:function(){t.$create.css({"border-radius":t.radiusToCss})},getBorderWidth:function(){t.$create.css({"border-width":t.borderToCss})},textChange:function(){var t=$("#input-text").val();this.$create.text(t),this.updateResult()},updateResult:function(){var e=this.$create.html(),i=$("#html-code"),s=$("#css-code"),a=t.radiusToCss,r=t.borderToCss;i.text("<button class='button' type='submit'>"+e+"</button>"),s.text(".button {\n	 background-color: #1ABC9C;\n	 border: "+r+" solid #17A689;\n	 -webkit-border-radius: "+a+";\n	 border-radius: "+a+";\n	 color: #FFF;\n	 font-weight: bold;\n	 line-height: 2.6em;\n	 margin: 50px auto;\n	 min-height: 40px;\n	 min-width: 140px;\n	 padding: 0 8px;\n	 text-align: center;\n}")},submitForm:function(e){e.preventDefault();var i=$(this),s=$("#mail").val(),a=$("#css-code").val(),r=$("#html-code").val(),o=i.find('button[type="submit"]');return t.validateForm(i)===!1?!1:($.ajax({url:"src/post.php",type:"POST",data:{email:this.email,css:this.css,html:this.html},success:function(){$(".modal__email").text(s),$(".modal__html").text(r),$(".modal__css").text(a),console.log("Email was send")}}),$("#modal").modal(),o.attr("disabled","disabled"),o.css("opacity",.5),void console.log(data))},validateForm:function(){var e=!0,i=$("#mail"),s=i.val();return 0===s.length?(i.addClass("btn-danger").tooltip({title:"Type in your e-mail bro!",placement:"right",trigger:"manual"}).tooltip("show"),e=!1):t.validMail()||i.tooltip({title:"Type correct mail, bro!",placement:"right",trigger:"manual"}).tooltip("show"),e},validMail:function(){var t=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/,e=$("#mail").val();return e.length?t.test(e):!1},removeError:function(){$("#mail").removeClass("btn-danger").tooltip("destroy")},closeModal:function(){var t=$("#submit");t.attr("disabled",""),t.css("opacity",1)}};t.initialize()}();